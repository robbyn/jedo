<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapping PUBLIC '-//tastefuljava.org//Jedo Mapping File 1.0//EN' 'jedo.dtd'>
<mapping package="org.tastefuljava.gianadda.domain">
    <class name="Folder">
        <id>
            <property name="id" column="ID"/>
        </id>
        <property name="name" column="NAME"/>

        <load>
            SELECT * FROM folders
            WHERE ID=${id}
        </load>
        <query name="rootFolder" parameters="name">
            SELECT * FROM folders
            WHERE PARENT_ID IS NULL
                AND NAME=${name}
        </query>
        <query name="subfolder" parameters="parentId,name">
            SELECT * FROM folders
            WHERE PARENT_ID=${parentId}
                AND NAME=${name}
        </query>
        <query name="subfolders" parameters="parentId">
            SELECT * FROM folders
            WHERE PARENT_ID=${parentId}
        </query>
    </class>
</mapping>
